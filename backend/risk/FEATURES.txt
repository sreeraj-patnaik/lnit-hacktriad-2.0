App: risk
Project: Context-Aware AI Health Trajectory Interpreter
========================================================

PURPOSE
-------
Assesses and scores patient health risk levels based on
report data, historical trends, and clinical thresholds.

FEATURES TO IMPLEMENT
----------------------

1. RISK SCORE CALCULATION
   - POST /api/risk/calculate/         → Compute risk score for a patient
     Input:  { "patient_id": <id> }
     Output: { "risk_score": 72, "risk_level": "HIGH", "factors": [...] }

2. RISK LEVEL CLASSIFICATION
   - Levels: LOW (0-30), MODERATE (31-60), HIGH (61-85), CRITICAL (86-100)
   - Computed from weighted combination of health metrics

3. RISK FACTOR BREAKDOWN
   - GET /api/risk/factors/<patient_id>/
     → List individual risk contributors with their weight
     e.g., { "factor": "HbA1c > 9.0", "contribution": 25, "severity": "HIGH" }

4. RISK TREND OVER TIME
   - GET /api/risk/trend/<patient_id>/
     → Historical risk scores over time (for trajectory chart)
     → Highlight if risk is increasing, stable, or decreasing

5. CONDITION-SPECIFIC RISK MODELS
   - Diabetes risk calculator (based on glucose, HbA1c, BMI)
   - Cardiovascular risk calculator (based on BP, cholesterol, age)
   - Kidney disease risk (based on creatinine, eGFR)
   - Extensible: new models can be plugged in

6. RISK ALERTS
   - Automatically create a Safety alert if risk level reaches CRITICAL
   - Notify assigned doctor on critical threshold breach

7. MODELS
   - RiskScore
     Fields: patient (FK → CustomUser), score, level, factors (JSON),
             calculated_at, report (FK → Report, optional)
   - RiskFactor
     Fields: name, description, weight, threshold, condition_category

NOTES
------
- Risk models should be configurable (weights stored in DB or settings)
- Risk calculation runs automatically after analysis completes
- Expose risk score in patient dashboard summary
